---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "st-ucloud_cdn_domain Resource - st-ucloud"
subcategory: ""
description: |-
  This resource provides the configuration of acceleration domain
---

# st-ucloud_cdn_domain (Resource)

This resource provides the configuration of acceleration domain

## Example Usage

```terraform
resource "st-ucloud_cdn_domain" "def" {
  depends_on = [
    st-ucloud_cert.def
  ]

  domain = "xxxxx-cdn.com"
  test_url = "http://xxxx-cdn.com/"
  area_code = "cn"
  cdn_type = "web"
  cdn_protocol = "http|https"
  cert_name = "def"
  tag = "Default"

  origin_conf = {
    origin_ip_list = ["origin.xxxx-cdn.com"]
#    origin_host = "origin.xxxx-cdn.com"
    origin_port = 80
    origin_protocol = "http"
    origin_follow301 = 1
    backup_origin_enable = false
  }

  cache_conf = {
#    cache_host = ""
    cache_list = [
      {
        path_pattern = "/*"
        ttl: 30
        cache_unit = "day"
        cache_behavior = true
#        follow_origin_rule = true
        description = "test"
     },
    ]
  }

  access_control_conf = {
#    ip_blacklist = []
#    ip_blacklist_empty = true
    refer_conf = {
#      refer_type = 0
#      null_refer = 0
#      refer_list = []
    }
#    enable_refer = false
  }

  advanced_conf = {
#    http_client_header_list = []
#    http_origin_header_list = []
#    http_to_https = false
  }

}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `access_control_conf` (Attributes) The configuration of access control. (see [below for nested schema](#nestedatt--access_control_conf))
- `advanced_conf` (Attributes) The advance configuration. (see [below for nested schema](#nestedatt--advanced_conf))
- `cache_conf` (Attributes) The configuration of cache (see [below for nested schema](#nestedatt--cache_conf))
- `domain` (String) Acceleration domain
- `origin_conf` (Attributes) The configuration of origin (see [below for nested schema](#nestedatt--origin_conf))

### Optional

- `area_code` (String) Acceleration area.`cn` represents China.`abroad` represents regions outside China.If the value is unset,domain is accelerated in all regions
- `cdn_protocol` (String) `http` for only http supported, `http|https` enable https feature
- `cdn_type` (String) `web` for website service,`stream` for video service,`download` for download service
- `cert_name` (String) The name of certificate
- `tag` (String) The group of service.If the value is unset. `Default` is used as default value
- `test_url` (String) Test url

### Read-Only

- `cert_name_abroad` (String) Certificate name.
- `cert_name_cn` (String) Certificate name.
- `cname` (String) Cname
- `create_time` (Number) Create time.
- `domain_id` (String) Id of acceleration domain, generated by ucloud.
- `https_status_abroad` (String) Https status
- `https_status_cn` (String) Https status
- `status` (String) Domain status

<a id="nestedatt--access_control_conf"></a>
### Nested Schema for `access_control_conf`

Required:

- `refer_conf` (Attributes) (see [below for nested schema](#nestedatt--access_control_conf--refer_conf))

Optional:

- `enable_refer` (Boolean) Whether enable refer.
- `ip_blacklist` (List of String) Request from address in blacklist will be denied.

<a id="nestedatt--access_control_conf--refer_conf"></a>
### Nested Schema for `access_control_conf.refer_conf`

Optional:

- `null_refer` (Number) When `refer_type` is 0,if the value is 0,NULL refer requests are not allowed.
- `refer_list` (List of String) The anti-leech rule list
- `refer_type` (Number) The type of anti-leech rules.If the value is 0,`refer_list` is whitelist,requests with these refers will be allowed.If the value is 1,`refer_list` is blacklist,requests with these refers will be denied.



<a id="nestedatt--advanced_conf"></a>
### Nested Schema for `advanced_conf`

Optional:

- `http_client_header_list` (List of String) Add http header when send response to client.
- `http_origin_header_list` (List of String) Add http header when send request to origin
- `http_to_https` (Boolean) If perform a forced conversion from http to https.


<a id="nestedatt--cache_conf"></a>
### Nested Schema for `cache_conf`

Required:

- `cache_list` (Attributes List) The list of cache rule (see [below for nested schema](#nestedatt--cache_conf--cache_list))

Optional:

- `cache_host` (String) Cache Host

<a id="nestedatt--cache_conf--cache_list"></a>
### Nested Schema for `cache_conf.cache_list`

Required:

- `cache_behavior` (Boolean) If caching is enabled.The optional values are true and false.
- `cache_unit` (String) The unit of caching time.The optional values are `sec`,`min`,`hour` and `day`.
- `description` (String) The description of rule
- `path_pattern` (String) The pattern of path
- `ttl` (Number) The cache time

Optional:

- `follow_origin_rule` (Boolean) If follow caching instructions in http header from the origin.The optional values are true and false.



<a id="nestedatt--origin_conf"></a>
### Nested Schema for `origin_conf`

Required:

- `origin_ip_list` (List of String) The ip list of origin

Optional:

- `origin_follow301` (Number) Whether redirect according to the url from origin.The optional values are 0 and 1
- `origin_host` (String) The host of origin
- `origin_port` (Number) The service port of origin
- `origin_protocol` (String) The protocol of origin.The optional values are `http` and `https`
